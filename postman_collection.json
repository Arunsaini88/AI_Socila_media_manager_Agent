{
  "info": {
    "name": "AI Social Media Manager API",
    "description": "Complete API collection for testing the AI Social Media Manager backend system",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "business_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "post_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "schedule_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "facebook_access_token",
      "value": "mock-user-access-token",
      "type": "string"
    },
    {
      "key": "page_access_token",
      "value": "mock-page-token-123",
      "type": "string"
    },
    {
      "key": "page_id",
      "value": "123456789",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        },
        "description": "Check if the API is running and healthy"
      },
      "response": []
    },
    {
      "name": "Business Analysis",
      "item": [
        {
          "name": "Analyze Business Website",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    pm.collectionVariables.set('business_id', pm.response.json().business_id);",
                  "    console.log('Business ID saved:', pm.response.json().business_id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"website_url\": \"https://www.planetfitness.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/business/analyze",
              "host": ["{{base_url}}"],
              "path": ["business", "analyze"]
            },
            "description": "Analyze a business website to extract profile information"
          },
          "response": []
        },
        {
          "name": "Get Business Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/business/{{business_id}}",
              "host": ["{{base_url}}"],
              "path": ["business", "{{business_id}}"]
            },
            "description": "Retrieve a stored business profile"
          },
          "response": []
        }
      ],
      "description": "Business website analysis and profile management"
    },
    {
      "name": "Industry News",
      "item": [
        {
          "name": "Get Fitness Industry News",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"industry\": \"fitness\",\n  \"keywords\": [\"gym\", \"workout\", \"training\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/news/analyze",
              "host": ["{{base_url}}"],
              "path": ["news", "analyze"]
            },
            "description": "Get current fitness industry news and insights"
          },
          "response": []
        },
        {
          "name": "Get Beauty Industry News",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"industry\": \"beauty\",\n  \"keywords\": [\"salon\", \"skincare\", \"spa\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/news/analyze",
              "host": ["{{base_url}}"],
              "path": ["news", "analyze"]
            },
            "description": "Get current beauty industry news and insights"
          },
          "response": []
        },
        {
          "name": "Get Food Industry News",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"industry\": \"food\",\n  \"keywords\": [\"restaurant\", \"dining\", \"chef\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/news/analyze",
              "host": ["{{base_url}}"],
              "path": ["news", "analyze"]
            },
            "description": "Get current food/restaurant industry news and insights"
          },
          "response": []
        }
      ],
      "description": "Industry news analysis and trend identification"
    },
    {
      "name": "Content Generation",
      "item": [
        {
          "name": "Generate Professional Tone Posts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success && pm.response.json().posts.length > 0) {",
                  "    pm.collectionVariables.set('post_id', pm.response.json().posts[0].id);",
                  "    console.log('First post ID saved:', pm.response.json().posts[0].id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"post_preferences\": {\n    \"tone\": \"professional\",\n    \"frequency\": 3,\n    \"post_types\": [\"promo\", \"tip\", \"insight\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/content/generate",
              "host": ["{{base_url}}"],
              "path": ["content", "generate"]
            },
            "description": "Generate posts with professional tone"
          },
          "response": []
        },
        {
          "name": "Generate Friendly Tone Posts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"post_preferences\": {\n    \"tone\": \"friendly\",\n    \"frequency\": 5,\n    \"post_types\": [\"promo\", \"tip\", \"update\", \"insight\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/content/generate",
              "host": ["{{base_url}}"],
              "path": ["content", "generate"]
            },
            "description": "Generate posts with friendly tone"
          },
          "response": []
        },
        {
          "name": "Generate Casual Tone Posts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"post_preferences\": {\n    \"tone\": \"casual\",\n    \"frequency\": 2,\n    \"post_types\": [\"promo\", \"tip\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/content/generate",
              "host": ["{{base_url}}"],
              "path": ["content", "generate"]
            },
            "description": "Generate posts with casual tone"
          },
          "response": []
        },
        {
          "name": "Generate Premium Tone Posts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"post_preferences\": {\n    \"tone\": \"premium\",\n    \"frequency\": 3,\n    \"post_types\": [\"promo\", \"insight\", \"update\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/content/generate",
              "host": ["{{base_url}}"],
              "path": ["content", "generate"]
            },
            "description": "Generate posts with premium tone"
          },
          "response": []
        }
      ],
      "description": "AI-powered content generation with different tones and types"
    },
    {
      "name": "Weekly Scheduling",
      "item": [
        {
          "name": "Create Weekly Schedule - 3 Posts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    pm.collectionVariables.set('schedule_id', pm.response.json().schedule_id);",
                  "    console.log('Schedule ID saved:', pm.response.json().schedule_id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"frequency\": 3,\n  \"preferred_days\": [\"monday\", \"wednesday\", \"friday\"],\n  \"start_date\": \"2025-08-04\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/planner/schedule",
              "host": ["{{base_url}}"],
              "path": ["planner", "schedule"]
            },
            "description": "Create a weekly schedule with 3 posts"
          },
          "response": []
        },
        {
          "name": "Create Weekly Schedule - 5 Posts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"frequency\": 5,\n  \"preferred_days\": [\"monday\", \"tuesday\", \"wednesday\", \"friday\", \"saturday\"],\n  \"start_date\": \"2025-08-04\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/planner/schedule",
              "host": ["{{base_url}}"],
              "path": ["planner", "schedule"]
            },
            "description": "Create a weekly schedule with 5 posts"
          },
          "response": []
        },
        {
          "name": "Get Schedule",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/planner/schedule/{{schedule_id}}",
              "host": ["{{base_url}}"],
              "path": ["planner", "schedule", "{{schedule_id}}"]
            },
            "description": "Retrieve a specific schedule"
          },
          "response": []
        }
      ],
      "description": "Weekly posting schedule management"
    },
    {
      "name": "Post Management",
      "item": [
        {
          "name": "Get All Business Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/business/{{business_id}}/posts",
              "host": ["{{base_url}}"],
              "path": ["business", "{{business_id}}", "posts"]
            },
            "description": "Get all posts for a business"
          },
          "response": []
        },
        {
          "name": "Get Scheduled Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/scheduled/{{business_id}}",
              "host": ["{{base_url}}"],
              "path": ["posts", "scheduled", "{{business_id}}"]
            },
            "description": "Get all scheduled posts for a business"
          },
          "response": []
        },
        {
          "name": "Update Post Content",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Updated post content with new messaging! 🚀\",\n  \"hashtags\": [\"#updated\", \"#newcontent\", \"#awesome\"],\n  \"call_to_action\": \"Visit us today!\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/posts/{{post_id}}",
              "host": ["{{base_url}}"],
              "path": ["posts", "{{post_id}}"]
            },
            "description": "Update post content before publishing"
          },
          "response": []
        },
        {
          "name": "Delete Post",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/{{post_id}}",
              "host": ["{{base_url}}"],
              "path": ["posts", "{{post_id}}"]
            },
            "description": "Delete a scheduled post"
          },
          "response": []
        }
      ],
      "description": "Post preview, editing, and management"
    },
    {
      "name": "Facebook Integration",
      "item": [
        {
          "name": "Connect Facebook Page",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"access_token\": \"{{facebook_access_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/facebook/connect",
              "host": ["{{base_url}}"],
              "path": ["facebook", "connect"]
            },
            "description": "Connect to Facebook page (mock mode)"
          },
          "response": []
        },
        {
          "name": "Get Facebook Pages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{facebook_access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/facebook/pages",
              "host": ["{{base_url}}"],
              "path": ["facebook", "pages"]
            },
            "description": "Get available Facebook pages for connected account"
          },
          "response": []
        },
        {
          "name": "Publish Post to Facebook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"page_id\": \"{{page_id}}\",\n  \"access_token\": \"{{page_access_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/posts/{{post_id}}/publish",
              "host": ["{{base_url}}"],
              "path": ["posts", "{{post_id}}", "publish"]
            },
            "description": "Publish a post to Facebook page"
          },
          "response": []
        }
      ],
      "description": "Facebook page connection and post publishing"
    },
    {
      "name": "Complete Workflow Examples",
      "item": [
        {
          "name": "1. Analyze Gym Website",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    pm.collectionVariables.set('business_id', pm.response.json().business_id);",
                  "    console.log('✅ Step 1 Complete: Business analyzed and ID saved');",
                  "    console.log('Business ID:', pm.response.json().business_id);",
                  "} else {",
                  "    console.log('❌ Step 1 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"website_url\": \"https://www.planetfitness.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/business/analyze",
              "host": ["{{base_url}}"],
              "path": ["business", "analyze"]
            },
            "description": "Step 1: Analyze a gym website"
          },
          "response": []
        },
        {
          "name": "2. Get Fitness Industry News",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    console.log('✅ Step 2 Complete: Industry news retrieved');",
                  "    console.log('News items:', pm.response.json().insights.length);",
                  "} else {",
                  "    console.log('❌ Step 2 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"industry\": \"fitness\",\n  \"keywords\": [\"gym\", \"workout\", \"training\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/news/analyze",
              "host": ["{{base_url}}"],
              "path": ["news", "analyze"]
            },
            "description": "Step 2: Get fitness industry news"
          },
          "response": []
        },
        {
          "name": "3. Generate Content",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success && pm.response.json().posts.length > 0) {",
                  "    pm.collectionVariables.set('post_id', pm.response.json().posts[0].id);",
                  "    console.log('✅ Step 3 Complete: Content generated');",
                  "    console.log('Posts created:', pm.response.json().posts.length);",
                  "    console.log('First post ID saved:', pm.response.json().posts[0].id);",
                  "} else {",
                  "    console.log('❌ Step 3 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"post_preferences\": {\n    \"tone\": \"friendly\",\n    \"frequency\": 3,\n    \"post_types\": [\"promo\", \"tip\", \"insight\"]\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/content/generate",
              "host": ["{{base_url}}"],
              "path": ["content", "generate"]
            },
            "description": "Step 3: Generate social media content"
          },
          "response": []
        },
        {
          "name": "4. Create Weekly Schedule",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    pm.collectionVariables.set('schedule_id', pm.response.json().schedule_id);",
                  "    console.log('✅ Step 4 Complete: Weekly schedule created');",
                  "    console.log('Schedule ID saved:', pm.response.json().schedule_id);",
                  "} else {",
                  "    console.log('❌ Step 4 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"business_id\": \"{{business_id}}\",\n  \"frequency\": 3,\n  \"preferred_days\": [\"monday\", \"wednesday\", \"friday\"],\n  \"start_date\": \"2025-08-04\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/planner/schedule",
              "host": ["{{base_url}}"],
              "path": ["planner", "schedule"]
            },
            "description": "Step 4: Create weekly posting schedule"
          },
          "response": []
        },
        {
          "name": "5. Connect Facebook",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    console.log('✅ Step 5 Complete: Facebook connected');",
                  "    console.log('Connected page:', pm.response.json().connection.page.name);",
                  "} else {",
                  "    console.log('❌ Step 5 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"access_token\": \"{{facebook_access_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/facebook/connect",
              "host": ["{{base_url}}"],
              "path": ["facebook", "connect"]
            },
            "description": "Step 5: Connect Facebook page"
          },
          "response": []
        },
        {
          "name": "6. Publish Post",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().success) {",
                  "    console.log('✅ Step 6 Complete: Post published successfully!');",
                  "    console.log('Facebook Post URL:', pm.response.json().facebook_result.post_url);",
                  "    console.log('🎉 Complete workflow finished successfully!');",
                  "} else {",
                  "    console.log('❌ Step 6 Failed:', pm.response.json().error);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"page_id\": \"{{page_id}}\",\n  \"access_token\": \"{{page_access_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/posts/{{post_id}}/publish",
              "host": ["{{base_url}}"],
              "path": ["posts", "{{post_id}}", "publish"]
            },
            "description": "Step 6: Publish post to Facebook"
          },
          "response": []
        }
      ],
      "description": "Complete end-to-end workflow examples demonstrating the full system capabilities"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-generate current date for scheduling",
          "const today = new Date();",
          "const nextMonday = new Date(today);",
          "nextMonday.setDate(today.getDate() + (1 + 7 - today.getDay()) % 7);",
          "pm.collectionVariables.set('next_monday', nextMonday.toISOString().split('T')[0]);"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script for all requests",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "pm.test('Response has required headers', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});"
        ]
      }
    }
  ]
}